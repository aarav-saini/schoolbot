<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>SPSMV Chatbot</title>
        <link
            href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
            rel="stylesheet" />
        <style>
            .chat-window {
                height: 70vh;
                overflow-y: auto;
                border: 1px solid #e2e8f0;
                border-radius: 0.375rem;
                padding: 1rem;
            }
            .hidden {
                display: none;
            }
        </style>
    </head>
    <body class="bg-gray-100 flex items-center justify-center min-h-screen">
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-5xl">
            <h1 class="text-2xl font-bold mb-4 text-center">SPSMV Chatbot</h1>

            <!-- Login Form -->
            <div id="login-container" class="mb-4">
                <p class="text-center text-gray-700 mb-4">
                    Please enter your access token to continue.
                </p>
                <div class="flex flex-col mb-2">
                    <label for="access-token-input" class="mb-1 text-gray-700"
                        >Access Token:</label
                    >
                    <input
                        type="password"
                        id="access-token-input"
                        class="p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                        placeholder="Enter your access token" />
                </div>
                <button
                    id="login-button"
                    class="w-full bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    Login
                </button>
                <div
                    id="login-error-message"
                    class="hidden text-center text-red-500 mt-2"></div>
            </div>

            <!-- Modified: Chat Interface (initially hidden) -->
            <div id="chat-interface" class="hidden">
                <!-- !!! NEW: TTS Speed Control !!! -->
                <div class="mb-4 flex items-center">
                    <label for="tts-speed-slider" class="mr-2 text-gray-700"
                        >TTS Speed:</label
                    >
                    <input
                        type="range"
                        id="tts-speed-slider"
                        min="0.5"
                        max="2.0"
                        step="0.1"
                        value="1.0"
                        class="flex-grow accent-blue-500" />
                    <span id="tts-speed-value" class="ml-2 text-gray-700"
                        >1.0x</span
                    >
                </div>

                <div id="chat-window" class="chat-window mb-4"></div>
                <div
                    id="loading-indicator"
                    class="hidden text-center text-blue-500 mb-2">
                    Typing...
                </div>
                <div
                    id="error-message"
                    class="hidden text-center text-red-500 mb-2"></div>
                <div class="flex">
                    <input
                        type="text"
                        id="user-input"
                        class="flex-grow p-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                        placeholder="Type your message..." />
                    <button
                        id="send-button"
                        class="bg-blue-500 text-white px-4 py-2 rounded-r-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        Send
                    </button>
                    <button
                        id="voice-button"
                        class="ml-2 bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500">
                        ðŸŽ¤
                    </button>
                </div>
                <!-- Logout Button -->
                <button
                    id="logout-button"
                    class="w-full mt-4 bg-gray-300 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500">
                    Logout
                </button>
            </div>
        </div>
        <script src="script.js"></script>
    </body>
</html>
